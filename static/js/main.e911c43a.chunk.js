(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{16:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),s=n(8),r=n.n(s),i=(n(16),n(6)),l=n.n(i),o=n(9),u=n(10),j=n(7),b=n(2),m=(n(18),[{name:"haiday.andriy@gmail.com",id:1},{name:"andriyg55@gmail.com",id:2},{name:"test@gmail.com",id:3}]);var p=function(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(!1),i=Object(b.a)(r,2),p=i[0],h=i[1],d=Object(c.useState)(""),O=Object(b.a)(d,2),f=O[0],x=O[1],g=Object(c.useState)(""),y=Object(b.a)(g,2),v=y[0],w=y[1],N=Object(c.useState)(""),S=Object(b.a)(N,2),k=S[0],_=S[1],C=Object(c.useState)(""),E=Object(b.a)(C,2),P=E[0],T=E[1],A=[],I=Object(c.useState)("sms"),J=Object(b.a)(I,2),z=J[0],F=J[1],$=Object(c.useState)(!1),q=Object(b.a)($,2),B=q[0],D=q[1],H=Object(c.useState)(!1),L=Object(b.a)(H,2),M=L[0],R=L[1],G=Object(c.useState)(!1),K=Object(b.a)(G,2),Q=K[0],U=K[1];Object(c.useEffect)((function(){fetch("".concat("https://bridge.dev.smartpointlab.com/api/gateways?api_key=2e081b9fa08aec1d3577ec5f582f87b6")).then((function(e){return e.json()})).then((function(e){return s(e)}),h(!0)),fetch("https://bridge.dev.smartpointlab.com/api/source_account?api_key=2e081b9fa08aec1d3577ec5f582f87b6").then((function(e){return e.ok?e.json():Promise.reject(new Error("fail")).then("".concat(e.status))})).then((function(e){return x(e.email)})).catch((function(e){return alert("Oops, smth wrong with API",e)}),x(""))}),[]);var V=function(){var e=Object(o.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i),t.preventDefault(),n.test(f)?D(!1):D(!0),v.length<1?R(!0):R(!1),A.length<1?U(!0):U(!1),a={emailFrom:"df@smartpointlab.com",gateway_name:"send_grid_windrose",type:z,title:v,text:k,emailTo:A.join(",")},e.next=8,fetch("https://bridge.dev.smartpointlab.com/api/message/send?api_key=2e081b9fa08aec1d3577ec5f582f87b6",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return alert("something go wrong",e)}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)("form",{onSubmit:function(e){return V(e)},className:"form",children:[Object(a.jsx)("p",{className:"header"}),Object(a.jsxs)("section",{className:"services",children:[Object(a.jsx)("p",{children:"Please select a service:"}),Object(a.jsx)("select",{onChange:function(e){return F(e.target.value)},className:"input",children:p&&function(e){var t=[];return e.filter((function(e){return t.findIndex((function(t){return t.type===e.type}))<=-1&&t.push(e),null})),t}(n).map((function(e){return Object(a.jsx)("option",{value:e.type,children:e.type},e.name)}))})]}),Object(a.jsxs)("section",{className:"emailFrom",children:[Object(a.jsx)("p",{children:"Enter your email:"}),Object(a.jsx)("input",{type:"text",placeholder:"someEmail@.com",value:f,onChange:function(e){return x(e.target.value)},className:B?"error input":"input"}),B&&Object(a.jsxs)("span",{className:"label_err",children:[Object(a.jsx)("br",{}),"Please check email and try again"]})]}),Object(a.jsxs)("section",{className:"title",children:[Object(a.jsx)("p",{children:"Enter email title"}),Object(a.jsx)("input",{type:"text",value:v,placeholder:"About",onChange:function(e){return w(e.target.value)},className:M?"error input":"input"}),M&&Object(a.jsxs)("span",{className:"label_err",children:[Object(a.jsx)("br",{}),"Please, wright a title"]})]}),Object(a.jsxs)("section",{className:"body",children:[Object(a.jsx)("p",{children:"Enter email text"}),Object(a.jsx)("input",{type:"text",value:k,placeholder:"Some text",onChange:function(e){return _(e.target.value)},className:"input"})]}),Object(a.jsxs)("section",{className:"textarea",children:[Object(a.jsx)("p",{children:"HTML"}),Object(a.jsx)("textarea",{type:"text",placeholder:"<html>",value:P,onChange:function(e){return T(e.target.value)},className:"input"})]}),Object(a.jsxs)("section",{className:"emailTo",children:[Object(a.jsxs)("ul",{className:"list",children:[m.map((function(e){return Object(a.jsxs)("li",{children:[Object(a.jsx)("input",{type:"checkbox",name:e.name,onChange:function(e){return function(e){e.target.checked?A.push(e.target.name):-1!==A.indexOf(e.target.name)&&A.splice(A.indexOf(e.target.name),1)}(e)}}),e.name]},e.id)})),Q&&Object(a.jsxs)("span",{className:"label_err",children:[Object(a.jsx)("br",{}),"Please, select at least one email"]})]}),Object(a.jsx)("button",{type:"button",onClick:function(){Object(j.a)(document.querySelectorAll("input[type='checkbox']")).forEach((function(e){return Object.assign(e,Object(u.a)({},e.checked,!0))})),A=Object(j.a)(m.map((function(e){return e.name})))},className:"select_button",children:"Check all"})]}),Object(a.jsx)("button",{type:"submit",className:"submit_button",children:"Submit"})]})})};r.a.render(Object(a.jsx)(p,{}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.e911c43a.chunk.js.map